
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>AI Coworker Blueprintâ„¢ | Nimbology</title>
  <style>
    * { box-sizing:border-box; }
    body { margin:0; padding:0; background:transparent; font-family: 'Segoe UI', system-ui, sans-serif; }
    #app {
      max-width:600px;
      margin:2rem auto;
      background:#ebf5f6;
      border-radius:8px;
      overflow:hidden;
      box-shadow: 0 4px 20px rgba(0,0,0,0.12);
    }

    #header { background:#fff; padding:1.25rem; }
    #header img { vertical-align:middle; }
    #header h1 { display:inline-block; margin:0 0 0 1rem; color:#0e2029; font-size:1.6rem; vertical-align:middle; }
    .progress { height:8px; background:#e0e0e0; width:100%; }
    .progress-bar { height:8px; background:#3b82f6; width:0%; transition:width .3s ease; }
    #formContainer { padding:1.5rem; }
    .question { margin-bottom:1.5rem; }
    .question h2 { color:#0e2029; margin-bottom:0.75rem; }
    .question p { line-height:1.6; color:#333; }
    label { display:block; margin-bottom:.5rem; font-weight:600; color:#0e2029; }
    .prefix-display { 
      background:#fff; 
      padding:0.6rem 0.75rem; 
      border-radius:4px; 
      margin-bottom:0.5rem; 
      font-style:italic; 
      color:#555;
      border-left: 3px solid #3b82f6;
    }
    input[type=text], input[type=email], textarea {
      width:100%; 
      padding:.65rem; 
      font-size:1rem; 
      border:1px solid #ccc; 
      border-radius:4px;
      transition: border-color 0.2s, box-shadow 0.2s;
    }
    input[type=text]:focus, input[type=email]:focus, textarea:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59,130,246,0.15);
    }
    textarea { resize:vertical; min-height:110px; }
    .char-count { font-size:.875rem; color:#555; margin-top:.35rem; }
    .controls { display:flex; justify-content:space-between; padding:1rem 1.5rem; background:#fff; border-top: 1px solid #eee; }
    button {
      padding:.65rem 1.4rem; 
      font-size:1rem; 
      font-weight: 500;
      border:none; 
      border-radius:6px; 
      cursor:pointer;
      background:#db4227; 
      color:#fff;
      transition: background 0.2s, transform 0.1s;
    }
    button:hover:not([disabled]) {
      background: #c13820;
      transform: translateY(-1px);
    }
    button[disabled] { background:#ccc; cursor:default; transform: none; }
    .copy-btn { 
      margin-top: 0.75rem;
      background: #0e2029;
    }
    .copy-btn:hover {
      background: #1a3040;
    }
    .summary { 
      background:#fff; 
      padding:1rem; 
      border:1px solid #ddd; 
      border-radius:6px; 
      white-space:pre-wrap; 
      font-size: 0.95rem;
      line-height: 1.5;
      color: #333;
      max-height: 200px;
      overflow-y: auto;
    }
    #footer {
      background:#0e2029; 
      color:#fff; 
      text-align:center; 
      padding:1rem 1.5rem; 
      font-size:.85rem;
      line-height: 1.6;
    }
    #footer a { color: #7dd3fc; }
    #toast {
      position: fixed;
      top: 2rem;
      left: 50%;
      transform: translateX(-50%);
      background: #fff;
      color: #222;
      padding: 1rem 1.75rem;
      border-radius: 8px;
      display: none;
      font-size: 1.05rem;
      font-weight: 500;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      z-index: 9999;
      border: 2px solid #22c55e;
    }

    /* Platform Tabs */
    .platform-tabs {
      display: flex;
      gap: 0.5rem;
      margin-bottom: 1rem;
      flex-wrap: wrap;
    }
    .tab-btn {
      padding: 0.5rem 1rem;
      background: #e5e7eb;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 500;
      color: #374151;
      transition: all 0.2s;
    }
    .tab-btn:hover {
      background: #d1d5db;
    }
    .tab-btn.active {
      background: #3b82f6;
      color: white;
    }
    .platform-instructions {
      background: #fff;
      padding: 1rem;
      border-radius: 6px;
      margin-bottom: 1.25rem;
      border-left: 3px solid #3b82f6;
    }
    .platform-instructions p {
      margin: 0 0 0.5rem 0;
      font-weight: 600;
      color: #0e2029;
    }
    .platform-instructions ul {
      margin: 0;
      padding-left: 1.25rem;
    }
    .platform-instructions li {
      margin-bottom: 0.25rem;
      color: #333;
    }

    /* Section headers on final page */
    .result-section-header {
      display: flex;
      align-items: center;
      margin: 1.5rem 0 0.75rem 0;
    }
    .result-section-header h3 {
      margin: 0;
      color: #0e2029;
    }
    .section-number {
      background: #3b82f6;
      color: white;
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 0.9rem;
      margin-right: 0.75rem;
    }

    /* Video CTA */
    .video-cta {
      background: linear-gradient(135deg, #0e2029 0%, #1e3a4c 100%);
      padding: 1.25rem;
      border-radius: 8px;
      margin: 1.5rem 0;
      text-align: center;
    }
    .video-cta p {
      color: #fff;
      margin: 0 0 0.75rem 0;
    }
    .video-cta p:first-child {
      font-weight: 600;
      font-size: 1.05rem;
    }
    .video-cta p:last-of-type {
      font-size: 0.9rem;
      opacity: 0.9;
    }
    .video-cta button {
      background: #3b82f6;
      margin-top: 0.5rem;
    }
    .video-cta button:hover {
      background: #2563eb;
    }

    /* Email section - now prominent at top */
    .email-section-top {
      background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
      padding: 1.25rem;
      border-radius: 8px;
      margin-bottom: 1.5rem;
    }
    .email-section-top h3 {
      color: #fff;
      margin: 0 0 0.5rem 0;
      font-size: 1.1rem;
    }
    .email-section-top p {
      color: rgba(255,255,255,0.95);
      margin: 0 0 1rem 0;
      font-size: 0.95rem;
      line-height: 1.5;
    }
    .email-section-top .warning {
      background: rgba(255,255,255,0.15);
      padding: 0.75rem;
      border-radius: 6px;
      margin-bottom: 1rem;
      font-size: 0.9rem;
      color: #fff;
    }
    .email-input-row {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
    }
    .email-input-row input[type="email"] {
      flex: 1;
      min-width: 200px;
      padding: 0.75rem;
      border: none;
      border-radius: 6px;
    }
    .email-input-row button {
      background: #fff;
      color: #dc2626;
      font-weight: 600;
      padding: 0.75rem 1.5rem;
    }
    .email-input-row button:hover {
      background: #f3f4f6;
      transform: translateY(-1px);
    }
    .email-alt {
      margin-top: 0.75rem;
      text-align: center;
    }
    .email-alt a {
      color: rgba(255,255,255,0.9);
      font-size: 0.9rem;
      cursor: pointer;
      text-decoration: underline;
    }
    .email-alt a:hover {
      color: #fff;
    }

    /* Celebration header */
    .celebration {
      text-align: center;
      margin-bottom: 1.5rem;
    }
    .celebration h2 {
      color: #0e2029;
      font-size: 1.75rem;
      margin: 0 0 0.5rem 0;
    }
    .celebration p {
      color: #333;
      font-size: 1.05rem;
      margin: 0;
    }

    hr {
      border: none;
      border-top: 1px solid #ddd;
      margin: 1.5rem 0;
    }

    /* ========== TAG SELECTOR STYLES ========== */
    .tag-selector {
      margin-bottom: 0.75rem;
    }
    .tag-category {
      margin-bottom: 0.75rem;
    }
    .tag-category-label {
      font-size: 0.8rem;
      color: #6b7280;
      margin-bottom: 0.4rem;
      font-weight: 500;
      text-transform: uppercase;
      letter-spacing: 0.025em;
    }
    .tag-grid {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }
    .tag-chip {
      padding: 0.4rem 0.75rem;
      background: #fff;
      border: 1.5px solid #d1d5db;
      border-radius: 20px;
      font-size: 0.9rem;
      color: #374151;
      cursor: pointer;
      transition: all 0.15s ease;
      user-select: none;
    }
    .tag-chip:hover {
      border-color: #3b82f6;
      background: #eff6ff;
    }
    .tag-chip.selected {
      background: #3b82f6;
      border-color: #3b82f6;
      color: #fff;
    }
    .tag-chip.selected:hover {
      background: #2563eb;
      border-color: #2563eb;
    }
    .tag-helper {
      font-size: 0.85rem;
      color: #6b7280;
      margin-bottom: 0.75rem;
      font-style: italic;
    }
    .clear-tags {
      display: inline-block;
      margin-top: 0.5rem;
      font-size: 0.85rem;
      color: #6b7280;
      cursor: pointer;
      text-decoration: none;
      transition: color 0.2s;
    }
    .clear-tags:hover {
      color: #dc2626;
      text-decoration: underline;
    }

    /* Next steps section */
    .next-steps {
      background: #fff;
      padding: 1.25rem;
      border-radius: 8px;
      margin-top: 1.5rem;
      border: 2px solid #e5e7eb;
    }
    .next-steps h3 {
      color: #0e2029;
      margin: 0 0 1rem 0;
      font-size: 1.1rem;
    }
    .next-step-item {
      display: flex;
      align-items: flex-start;
      margin-bottom: 1rem;
      padding-bottom: 1rem;
      border-bottom: 1px solid #e5e7eb;
    }
    .next-step-item:last-child {
      margin-bottom: 0;
      padding-bottom: 0;
      border-bottom: none;
    }
    .next-step-icon {
      width: 36px;
      height: 36px;
      background: #3b82f6;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 1rem;
      flex-shrink: 0;
      font-size: 1rem;
    }
    .next-step-content h4 {
      margin: 0 0 0.25rem 0;
      color: #0e2029;
      font-size: 1rem;
    }
    .next-step-content p {
      margin: 0;
      color: #6b7280;
      font-size: 0.9rem;
      line-height: 1.4;
    }
    .next-step-content a {
      color: #3b82f6;
      text-decoration: none;
    }
    .next-step-content a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <div id="app">
    <div id="header">
      <img src="https://images.squarespace-cdn.com/content/672bffc68fd9b922d9f34a55/08a58d80-4436-4c37-a3b6-e3bb7e086c45/Strategic+Advisory+%282%29.png?content-type=image%2Fpng"
           width="200" alt="Nimbology logo"/>
      <h1>AI Coworker Blueprintâ„¢</h1>
    </div>
    <div class="progress"><div class="progress-bar" id="progressBar"></div></div>
    <div id="formContainer"></div>
    <div class="controls">
      <button id="prevBtn" disabled>Back</button>
      <button id="nextBtn">Next</button>
    </div>
    <div id="footer">
      <div>
        *This form was custom-built with privacy in mind.<br>
        No results are stored or visible to third parties.<br>
        Your data stays yoursâ€”always.<br><br>
        This resource is for Nimbology clients and workshop participants.<br>
        Want to share it? Connect them with us at <a href="https://nimbology.com/contact">nimbology.com/contact</a>.
      </div>
    </div>
  </div>

  <div id="toast"></div>

  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>

<script>
// ==== CONFIGURE EmailJS ====
const EMAILJS_USER_ID    = 'SFReYwwY4dQJsG2ap';
const EMAILJS_SERVICE_ID = 'service_gpqnffd';
const EMAILJS_TEMPLATE_ID= 'template_roe9gvx';
emailjs.init(EMAILJS_USER_ID);

// ==== TAG OPTIONS FOR ALL QUESTIONS ====
const tagOptions = {
  // Section 1 Tags
  aiName: {
    "Popular Choices": ["Javi", "Max", "Sage", "Atlas", "Quinn", "Nova", "Aria", "Echo", "Kai", "Robin"]
  },
  
  aiTraits: {
    "Communication Style": ["Direct", "No BS", "Clear", "Concise", "Warm", "Professional", "Conversational", "Formal"],
    "Intelligence & Approach": ["Strategic", "Analytical", "Creative", "Practical", "Big-picture", "Detail-oriented", "Resourceful", "Thorough"],
    "Personality": ["High EQ", "Sharp", "Fun", "Witty", "Patient", "Encouraging", "Challenging", "Motivational"],
    "Expertise Level": ["Executive-level", "Coach-like", "Mentor-like", "Peer-like", "Expert", "Generalist"]
  },
  
  aiDont: {
    "Communication": ["Flatter me", "Be a yes-person", "Overcomplicate things", "Be vague", "Hedge when I need clarity", "Use jargon", "Be condescending"],
    "Behavior": ["Use emojis", "Be trite", "Give generic advice", "Assume I know less than I do", "Repeat yourself", "Over-explain basics"],
    "Approach": ["Avoid hard truths", "Sugarcoat feedback", "Be passive", "Give long-winded answers", "Miss the point", "Ignore context"]
  },
  
  workGoals: {
    "Leadership": ["Lead my team well", "Get promoted", "Build influence", "Develop my people", "Run better meetings", "Make confident decisions"],
    "Performance": ["Hit revenue targets", "Ship projects on time", "Improve efficiency", "Exceed expectations", "Deliver results", "Meet deadlines"],
    "Focus & Energy": ["Protect my focus", "Manage my time better", "Reduce stress", "Work smarter", "Prioritize ruthlessly", "Set boundaries"]
  },
  
  aspirations: {
    "Financial": ["Financial freedom", "Build wealth", "Increase income", "Create passive income", "Retire early", "Buy investment properties"],
    "Career & Impact": ["Start a business", "Write a book", "Build a personal brand", "Become a thought leader", "Make a bigger impact", "Change careers"],
    "Lifestyle": ["More time with family", "Location independence", "Better work-life balance", "Travel more", "Health & fitness", "Learn new skills"]
  },
  
  opinions: {
    "Feedback Style": ["Challenge my thinking", "Give me your honest opinions", "Play devil's advocate", "Push back when I'm wrong", "Be direct with feedback"],
    "Perspective": ["Help me see blind spots", "Show me other perspectives", "Question my assumptions", "Point out risks", "Identify what I'm missing"]
  },
  
  values: {
    "Core Values": ["Integrity", "Excellence", "Honesty", "Authenticity", "Accountability", "Transparency"],
    "Relational Values": ["Generosity", "Empathy", "Respect", "Kindness", "Loyalty", "Trust"],
    "Achievement Values": ["Growth", "Innovation", "Impact", "Quality", "Efficiency", "Results"],
    "Guiding Principles": ["Truth over comfort", "People over profit", "Long-term over short-term", "Substance over style", "Action over perfection"]
  },
  
  coaching: {
    "Leadership": ["Executive presence", "Leadership", "Decision-making", "Delegation", "Influence", "Managing up"],
    "Communication": ["Confident communication", "Persuasion", "Negotiation", "Public speaking", "Difficult conversations", "Storytelling"],
    "Strategy": ["Strategic thinking", "Financial thinking", "Business acumen", "Problem-solving", "Critical thinking", "Prioritization"],
    "Personal": ["Emotional intelligence", "Self-awareness", "Resilience", "Confidence", "Presence", "Energy management"]
  },
  
  prepareFor: {
    "People": ["Critics and detractors", "Difficult stakeholders", "Office politics", "Saboteurs", "Skeptics", "Naysayers"],
    "Situations": ["Hard conversations", "High-stakes meetings", "Negotiations", "Presentations", "Interviews", "Conflict"],
    "Opportunities": ["Opportunities I might miss", "Career pivots", "Leadership roles", "Speaking opportunities", "Partnerships", "Growth moments"]
  },
  
  encouragement: {
    "Confidence": ["I'm capable of this", "I've done hard things before", "Trust my instincts", "I belong here", "I'm enough"],
    "Focus": ["Stay focused on what matters", "Progress over perfection", "One thing at a time", "Trust the process", "Keep going"],
    "Celebration": ["Celebrate small wins", "Acknowledge progress", "Give myself credit", "Rest is productive", "I'm further than I think"]
  },
  
  overcome: {
    "Productivity": ["Procrastination", "Overthinking", "Analysis paralysis", "Perfectionism", "Distraction", "Time-wasting"],
    "Boundaries": ["People-pleasing", "Saying yes too often", "Overcommitting", "Taking on too much", "Not delegating", "Fear of conflict"],
    "Mindset": ["Self-doubt", "Imposter syndrome", "Negative self-talk", "Fear of failure", "Playing small", "Comparison"]
  },
  
  workStyle: {
    "Quality": ["World-class", "Excellent", "High-quality", "Polished", "Professional", "Refined"],
    "Character": ["Original", "Creative", "Distinctive", "Bold", "Fresh", "Innovative"],
    "Approach": ["Clear", "Sharp", "Efficient", "Practical", "Actionable", "Results-focused"],
    "Philosophy": ["Substance over flash", "Done is better than perfect", "Built to last", "Simple but powerful", "Less but better"]
  },
  
  becomeWhat: {
    "Leadership": ["A better leader", "A confident executive", "An inspiring manager", "A trusted advisor", "A decisive leader"],
    "Impact": ["Someone who creates real impact", "A force for good", "An industry leader", "A thought leader", "A changemaker"],
    "Personal": ["The best version of myself", "More confident", "More effective", "More balanced", "Financially free", "Fulfilled"]
  },

  // Section 2 Tags
  yourName: {
    "Formats": ["[First name]", "[Nickname]", "Dr. [Last name]", "Coach", "Boss", "[Title + Name]"]
  },
  
  roles: {
    "Leadership": ["Founder", "CEO", "Executive", "Director", "Manager", "Team Lead", "Supervisor"],
    "Professional": ["Consultant", "Advisor", "Specialist", "Analyst", "Designer", "Developer", "Marketer", "Sales"],
    "Ownership": ["Business Owner", "Entrepreneur", "Freelancer", "Creator", "Author", "Speaker", "Coach"],
    "Governance": ["Board Member", "Investor", "Mentor", "Advisor"],
    "Personal": ["Parent", "Partner", "Caregiver", "Student", "Volunteer", "Community Leader"]
  },
  
  personalTraits: {
    "Work Style": ["Strategic", "Creative", "Analytical", "Detail-oriented", "Organized", "Dependable", "Disciplined", "Efficient"],
    "Interpersonal": ["Leader", "Communicator", "Team player", "Empathetic", "Open-minded", "Emotionally intelligent", "Diplomatic", "Collaborative"],
    "Drive & Mindset": ["Self-starter", "Motivated", "Curious", "Resilient", "Confident", "Adaptable", "Ambitious", "Action-biased"],
    "Personality": ["Direct", "Warm", "Visionary", "Pragmatic", "Bold", "Calm", "Energetic", "Thoughtful"]
  },
  
  ambitions: {
    "Business": ["Build a national brand", "Scale my business", "Exit my company", "Launch a product", "Franchise", "Go public"],
    "Career": ["Become a C-suite executive", "Lead an organization", "Become an industry expert", "Board positions", "Consulting practice"],
    "Financial": ["Achieve financial independence", "Create generational wealth", "Multiple income streams", "Investment portfolio"],
    "Creative": ["Write a book", "Launch a podcast", "Build a platform", "Become a speaker", "Thought leadership"]
  },
  
  education: {
    "Degree Types": ["Bachelor's degree", "Master's degree", "MBA", "PhD", "JD", "MD", "Self-taught", "Bootcamp grad"],
    "Learning Style": ["Learn by doing", "Visual learner", "Avid reader", "Podcast learner", "Classroom learner", "Mentor-taught", "Research-oriented"]
  },
  
  experience: {
    "Years": ["5+ years", "10+ years", "15+ years", "20+ years", "25+ years"],
    "Domains": ["Leadership", "Management", "Consulting", "Operations", "Sales", "Marketing", "Finance", "Technology", "Product", "Strategy"],
    "Achievements": ["Built teams", "Managed P&L", "Led transformation", "Launched products", "Grew revenue", "Built from scratch", "Turnaround experience"]
  },
  
  currentProjects: {
    "Business": ["Launching a product", "Starting a business", "Scaling operations", "Leading a rebrand", "Fundraising", "M&A activity"],
    "Career": ["Job searching", "Career transition", "Getting promoted", "Building a team", "Expanding role", "New leadership position"],
    "Creative": ["Writing a book", "Building a course", "Starting a podcast", "Content creation", "Speaking tour", "Building platform"],
    "Development": ["Learning new skills", "Getting certified", "Executive coaching", "Leadership program", "Side project"]
  },
  
  accomplishments: {
    "Business Results": ["Doubled revenue", "Grew team 10x", "Successful exit", "IPO experience", "Turnaround success", "Market expansion"],
    "Recognition": ["Award-winner", "Industry recognition", "Published author", "Featured speaker", "Media coverage", "Top performer"],
    "Creation": ["Founded a company", "Built a product", "Created a movement", "Established a program", "Launched a brand", "Patented innovation"],
    "Impact": ["Led transformation", "Changed industry practice", "Mentored leaders", "Community impact", "Policy influence"]
  },
  
  energizers: {
    "Problem & Creation": ["Solving hard problems", "Building things", "Creating from scratch", "Fixing what's broken", "Designing solutions", "Strategic planning"],
    "People & Connection": ["Coaching others", "Deep conversation", "Collaboration", "Teaching", "Networking", "Leading teams", "Mentoring"],
    "Work Types": ["Creative work", "Analytical work", "Research", "Writing", "Public speaking", "Project management", "Sales", "Negotiation"],
    "Growth & Learning": ["Learning new skills", "Exploring ideas", "Reading", "Taking courses", "Experimenting", "Pushing limits"]
  },
  
  principles: {
    "Ethics": ["Integrity first", "Do the right thing", "Honesty always", "Ethical leadership", "Transparency", "Accountability"],
    "Mindset": ["Abundance mindset", "Growth mindset", "Own your outcomes", "No excuses", "Bias for action", "Continuous improvement"],
    "Philosophy": ["Faith-driven", "Evidence-based", "Long-term thinking", "People first", "Purpose over profit", "Service to others"],
    "Approach": ["Under-promise, over-deliver", "Start with why", "Fail fast, learn faster", "Done is better than perfect", "Trust but verify"]
  },
  
  commStyle: {
    "Tone": ["Direct but warm", "Professional", "Casual", "Formal", "Friendly", "Matter-of-fact"],
    "Mode": ["Written over verbal", "Verbal over written", "Visual communication", "Data-driven", "Story-driven"],
    "Interaction": ["Collaborative", "Action-oriented", "Consultative", "Coaching-style", "Socratic"],
    "Extras": ["Humor helps", "Keep it brief", "Love details", "Big picture first", "Examples help"]
  },
  
  howDescribed: {
    "Leadership": ["Strong leader", "Visionary", "Decisive", "Inspiring", "Influential", "Trusted"],
    "Character": ["Reliable", "Authentic", "Humble", "Confident", "Generous", "Kind"],
    "Work Style": ["Gets things done", "High performer", "Problem-solver", "Strategic thinker", "Creative", "Analytical"],
    "Presence": ["Calm under pressure", "Energetic", "Steady", "Approachable", "Commanding", "Thoughtful"],
    "Relationships": ["Connector", "Collaborator", "Mentor", "Team player", "Bridge builder", "Catalyst"]
  },
  
  personality: {
    "Myers-Briggs": ["INTJ", "ENTJ", "INTP", "ENTP", "INFJ", "ENFJ", "INFP", "ENFP", "ISTJ", "ESTJ", "ISFJ", "ESFJ", "ISTP", "ESTP", "ISFP", "ESFP"],
    "Enneagram": ["Type 1", "Type 2", "Type 3", "Type 4", "Type 5", "Type 6", "Type 7", "Type 8", "Type 9"],
    "DISC": ["High D", "High I", "High S", "High C", "D/I", "I/S", "S/C", "D/C"]
  },
  
  tendencies: {
    "Overwork": ["Taking on too much", "Not delegating", "Working too many hours", "Skipping breaks", "Always available"],
    "Avoidance": ["Avoiding conflict", "Putting off hard conversations", "Procrastinating on scary tasks", "Avoiding feedback"],
    "Focus": ["Getting lost in details", "Shiny object syndrome", "Context switching", "Losing big picture", "Over-researching"],
    "Self-worth": ["Undervaluing my work", "Not charging enough", "Underselling myself", "Downplaying achievements", "Imposter feelings"],
    "Emotions": ["Impatience", "Frustration", "Anxiety", "Overwhelm", "Perfectionism", "Self-criticism"]
  }
};

// ==== INTRO & SECTION INTRO SCREENS ====
const intro = {
  title: "Welcome!",
  body: `<strong>You're a few steps away from building your personal AI Coworker.</strong><br><br>
You'll define its personality and teach it about you. At the end, you'll get your personalized setup ready to paste into ChatGPT, Claude, or Gemini.<br><br>
Takes about 15 minutes. Worth every one of them.<br><br>
When you're ready, click <strong>Start</strong>.`
};

const section1Intro = {
  title: "Section 1: Define Your AI Coworker",
  body: `<strong>What kind of partner do you need?</strong><br><br>
Think about personality, tone, strengths, valuesâ€”and what you <em>don't</em> want.<br><br>
You have up to 1,500 characters total for this section. Be specific. Be bold.<br><br>
Click <strong>Next</strong> when you're ready.`
};

const section2Intro = {
  title: "Section 2: Teach Your AI About You",
  body: `<strong>Now it's your turn.</strong><br><br>
Share your roles, goals, values, and how you operate. The more your AI knows, the better it can support you.<br><br>
Be honest. Be aspirational. You can always update this later.<br><br>
Up to 1,500 characters for this section.`
};

// ==== SECTION 1: DEFINE YOUR AI COWORKER ====
const section1 = [
  { q:"What would you like your AI Coworker's name to be?", prefix:"AI, your name is: ", placeholder:"", limit:30, tags: "aiName" },
  { q:"What traits should your ideal AI Coworker have?", prefix:"AI, you are: ", placeholder:"", limit:500, tags: "aiTraits" },
  { q:"What should your AI Coworker <em>not</em> do?", prefix:"AI, don't: ", placeholder:"", limit:500, tags: "aiDont" },
  { q:"What are your job-related goalsâ€”the things you're paid to accomplish?", prefix:"AI, help me with these work goals: ", placeholder:"", limit:500, tags: "workGoals" },
  { q:"What are your personal aspirationsâ€”the life you're building toward?", prefix:"AI, help me build toward: ", placeholder:"", limit:500, tags: "aspirations" },
  { q:"Should your AI Coworker share opinions and push back on you?", prefix:"AI, on sharing opinions: ", placeholder:"", limit:300, tags: "opinions" },
  { q:"What values matter to you that your AI Coworker should reflect?", prefix:"AI, honor these values: ", placeholder:"", limit:300, tags: "values" },
  { q:"What do you want your AI Coworker to teach or coach you onâ€”every interaction?", prefix:"AI, coach me on: ", placeholder:"", limit:500, tags: "coaching" },
  { q:"What should your AI Coworker prepare you for?", prefix:"AI, prepare me for: ", placeholder:"", limit:300, tags: "prepareFor" },
  { q:"What encouragement do you need to hear regularly?", prefix:"AI, remind me: ", placeholder:"", limit:400, tags: "encouragement" },
  { q:"What patterns or habits do you want help overcoming?", prefix:"AI, help me overcome: ", placeholder:"", limit:500, tags: "overcome" },
  { q:"How would you describe the quality and style of work you want to produce together?", prefix:"AI, our work style is: ", placeholder:"", limit:300, tags: "workStyle" },
  { q:"Big picture: what do you want your AI Coworker to help you become?", prefix:"AI, help me become: ", placeholder:"", limit:500, tags: "becomeWhat" }
];

// ==== SECTION 2: TEACH YOUR AI ABOUT YOU ====
const section2 = [
  { q:"What should your AI Coworker call you?", prefix:"Call me: ", placeholder:"Enter your preferred name", limit:30, tags: "yourName", freeformOnly: true },
  { q:"What roles do you currently holdâ€”professionally and personally?", prefix:"My roles: ", placeholder:"", limit:500, tags: "roles" },
  { q:"What traits define how you operate and show up?", prefix:"I am: ", placeholder:"", limit:500, tags: "personalTraits" },
  { q:"What are your biggest ambitionsâ€”where are you headed?", prefix:"My ambitions: ", placeholder:"", limit:500, tags: "ambitions" },
  { q:"What's your educational background and how do you learn best?", prefix:"Education/learning: ", placeholder:"", limit:300, tags: "education" },
  { q:"Summarize your professional experience.", prefix:"Experience: ", placeholder:"", limit:700, tags: "experience" },
  { q:"What are you currently working on?", prefix:"Current projects: ", placeholder:"", limit:700, tags: "currentProjects" },
  { q:"What accomplishments or credentials should your AI know about?", prefix:"Accomplishments: ", placeholder:"", limit:700, tags: "accomplishments" },
  { q:"What naturally energizes you? What do you gravitate toward?", prefix:"I'm energized by: ", placeholder:"", limit:500, tags: "energizers" },
  { q:"What beliefs, philosophies, or principles guide your decisions?", prefix:"My guiding principles: ", placeholder:"", limit:500, tags: "principles" },
  { q:"How do you prefer to communicate and interact with others?", prefix:"My communication style: ", placeholder:"", limit:300, tags: "commStyle" },
  { q:"How do others typically describe you?", prefix:"Others describe me as: ", placeholder:"", limit:300, tags: "howDescribed" },
  { q:"What's your personality type, if you know it?", prefix:"Personality type: ", placeholder:"Skip if you're not sure", limit:300, tags: "personality" },
  { q:"What personal tendencies do you want your AI to help you manage?", prefix:"Help me manage: ", placeholder:"", limit:700, tags: "tendencies" }
];

// ==== PAGINATION SETUP ====
const s1len = section1.length, s2len = section2.length;
const totalPages = s1len + s2len + 5;
let pageIndex = 0;
const answers = Array(s1len + s2len).fill("");

// Track selected tags per question index
const selectedTags = {};

const formContainer = document.getElementById("formContainer");
const progressBar   = document.getElementById("progressBar");
const prevBtn       = document.getElementById("prevBtn");
const nextBtn       = document.getElementById("nextBtn");

prevBtn.onclick = () => { 
  if(pageIndex>0){ 
    pageIndex--; 
    renderPage(); 
    scrollToTop();
  } 
};
nextBtn.onclick = () => {
  if(pageIndex>=2 && pageIndex<=1+s1len) saveAnswer(pageIndex-2);
  if(pageIndex>=3+s1len && pageIndex<=2+s1len+s2len) saveAnswer(s1len + (pageIndex-3-s1len));
  pageIndex++;
  renderPage();
  scrollToTop();
};

function scrollToTop() {
  // Try multiple scroll methods for maximum compatibility
  // 1. Scroll the form container into view
  const app = document.getElementById('app');
  if (app) {
    app.scrollIntoView({ behavior: 'smooth', block: 'start' });
  }
  
  // 2. Also post message to parent for iframe embedding
  parent.postMessage({ scrollToTop: true }, "*");
  
  // 3. Fallback: scroll the window/document
  window.scrollTo({ top: 0, behavior: 'smooth' });
}

function renderHeader(){
  document.getElementById("header").innerHTML = `
    <img src="https://images.squarespace-cdn.com/content/672bffc68fd9b922d9f34a55/08a58d80-4436-4c37-a3b6-e3bb7e086c45/Strategic+Advisory+%282%29.png?content-type=image%2Fpng"
         width="200" alt="Nimbology logo"/>
    <h1>AI Coworker Blueprintâ„¢</h1>`;
}

function renderPage(){
  renderHeader();
  formContainer.innerHTML = "";
  progressBar.style.width = `${pageIndex/(totalPages-1)*100}%`;

  prevBtn.disabled = pageIndex===0;
  nextBtn.style.display = "inline-block";

  if(pageIndex===0){
    nextBtn.innerText = "Start";
    formContainer.innerHTML = `<div class="question"><h2>${intro.title}</h2><p>${intro.body}</p></div>`;
  }
  else if(pageIndex===1){
    nextBtn.innerText = "Next";
    formContainer.innerHTML = `<div class="question"><h2>${section1Intro.title}</h2><p>${section1Intro.body}</p></div>`;
  }
  else if(pageIndex>=2 && pageIndex<=1+s1len){
    nextBtn.innerText = "Next";
    renderQuestion(section1[pageIndex-2], pageIndex-2);
  }
  else if(pageIndex===2+s1len){
    nextBtn.innerText = "Next";
    formContainer.innerHTML = `<div class="question"><h2>${section2Intro.title}</h2><p>${section2Intro.body}</p></div>`;
  }
  else if(pageIndex>=3+s1len && pageIndex<=2+s1len+s2len){
    nextBtn.innerText = "Next";
    renderQuestion(section2[pageIndex-3-s1len], s1len + (pageIndex-3-s1len));
  }
  else if(pageIndex===3+s1len+s2len){
    nextBtn.style.display = "none";
    formContainer.innerHTML = renderSummaryHtml();
  }
  else if(pageIndex===4+s1len+s2len){
    nextBtn.style.display = "none";
    formContainer.innerHTML = `
      <div class="celebration">
        <h2>You're All Set!</h2>
        <p>Your AI Coworker is configured and ready to work.</p>
      </div>
      <p>Start a conversation with your AI and see the difference. If you have questions or want to unlock more, reach out anytime:</p>
      <p><a href="https://nimbology.com/contact" target="_blank">nimbology.com/contact</a></p>`;
  }
}

function renderQuestion(item, idx){
  const prefixHtml = item.prefix ? `<div class="prefix-display">${item.prefix}</div>` : '';
  
  // Check if this question has tags (and isn't freeformOnly)
  let tagSelectorHtml = '';
  if (item.tags && tagOptions[item.tags] && !item.freeformOnly) {
    tagSelectorHtml = renderTagSelector(item.tags, idx);
  }
  
  const placeholderText = item.tags && !item.freeformOnly 
    ? 'Click options above or type your own...' 
    : (item.placeholder || 'Type here...');
  
  formContainer.innerHTML = `
    <div class="question">
      <label>${item.q}</label>
      ${prefixHtml}
      ${tagSelectorHtml}
      <textarea id="inputField" placeholder="${placeholderText}"></textarea>
      <div class="char-count" id="charCount"></div>
    </div>`;
  
  const ta = document.getElementById("inputField");
  ta.value = answers[idx] || "";
  ta.maxLength = item.limit;
  ta.oninput = () => {
    answers[idx] = ta.value;
    updateCharCount(idx);
  };
  
  // Store current context
  window.currentIdx = idx;
  window.currentTags = item.tags || null;
  
  // Restore selected tag states
  if (item.tags && selectedTags[idx] && !item.freeformOnly) {
    selectedTags[idx].forEach(tag => {
      const chip = document.querySelector(`.tag-chip[data-tag="${tag}"]`);
      if (chip) chip.classList.add('selected');
    });
  }
  
  // Attach tag click handlers
  if (item.tags && !item.freeformOnly) {
    attachTagHandlers(idx);
  }
  
  updateCharCount(idx);
}

function renderTagSelector(tagType, idx) {
  const options = tagOptions[tagType];
  let html = '<div class="tag-selector">';
  html += '<p class="tag-helper">Click to select, click again to remove. Type your own below.</p>';
  
  for (const [category, tags] of Object.entries(options)) {
    html += `<div class="tag-category">`;
    html += `<div class="tag-category-label">${category}</div>`;
    html += `<div class="tag-grid">`;
    tags.forEach(tag => {
      const isSelected = selectedTags[idx] && selectedTags[idx].includes(tag);
      html += `<span class="tag-chip ${isSelected ? 'selected' : ''}" data-tag="${tag}">${tag}</span>`;
    });
    html += `</div></div>`;
  }
  
  html += `<a class="clear-tags" onclick="clearAllTags(${idx})">Clear all selections</a>`;
  html += '</div>';
  return html;
}

function attachTagHandlers(idx) {
  document.querySelectorAll('.tag-chip').forEach(chip => {
    chip.addEventListener('click', () => toggleTag(chip, idx));
  });
}

function toggleTag(chip, idx) {
  const tag = chip.dataset.tag;
  const ta = document.getElementById("inputField");
  
  // Initialize selectedTags for this index if needed
  if (!selectedTags[idx]) selectedTags[idx] = [];
  
  if (chip.classList.contains('selected')) {
    // Deselect: remove from array and textarea
    chip.classList.remove('selected');
    selectedTags[idx] = selectedTags[idx].filter(t => t !== tag);
    
    // Remove from textarea - handle various formats
    let currentText = ta.value;
    currentText = currentText.replace(new RegExp(tag + '\\.\\s*', 'g'), '');
    currentText = currentText.replace(new RegExp(tag + ',\\s*', 'g'), '');
    currentText = currentText.replace(new RegExp(tag + '\\s*$', 'g'), '');
    currentText = currentText.replace(/\.\s*\./g, '.').replace(/,\s*,/g, ',').trim();
    currentText = currentText.replace(/[,.\s]+$/, '').trim();
    ta.value = currentText;
  } else {
    // Select: add to array and textarea
    chip.classList.add('selected');
    selectedTags[idx].push(tag);
    
    // Add to textarea
    if (ta.value.trim() === '') {
      ta.value = tag;
    } else {
      const lastChar = ta.value.trim().slice(-1);
      if (['.', ',', '!', '?'].includes(lastChar)) {
        ta.value = ta.value.trim() + ' ' + tag;
      } else {
        ta.value = ta.value.trim() + '. ' + tag;
      }
    }
  }
  
  answers[idx] = ta.value;
  updateCharCount(idx);
}

function clearAllTags(idx) {
  document.querySelectorAll('.tag-chip.selected').forEach(chip => {
    chip.classList.remove('selected');
  });
  selectedTags[idx] = [];
  const ta = document.getElementById("inputField");
  ta.value = '';
  answers[idx] = '';
  updateCharCount(idx);
}

function updateCharCount(idx){
  let sum = 0;
  const isSection1 = pageIndex <= 1 + s1len;
  const start = isSection1 ? 0 : s1len;
  const end = idx;
  const section = isSection1 ? section1 : section2;
  
  for(let i = start; i <= end; i++) {
    const sectionIndex = isSection1 ? i : i - s1len;
    const prefix = section[sectionIndex]?.prefix || "";
    const answer = answers[i] || "";
    sum += prefix.length + answer.length + 1;
  }
  
  const cc = document.getElementById("charCount");
  cc.innerText = `Section total: ${sum}/1500`;
  cc.style.color = sum > 1500 ? "#dc2626" : "#555";
  nextBtn.disabled = sum > 1500;
}

function saveAnswer(idx){
  const field = document.getElementById("inputField");
  if(field) answers[idx] = field.value;
}

function buildSectionText(startIdx, endIdx, section) {
  const parts = [];
  for(let i = startIdx; i < endIdx; i++) {
    const sectionIdx = i - startIdx;
    const prefix = section[sectionIdx]?.prefix || "";
    const answer = answers[i] || "";
    if (answer.trim()) {
      parts.push(prefix + answer);
    }
  }
  return parts.join(". ") + (parts.length > 0 ? "." : "");
}

function showInstructions(platform) {
  document.querySelectorAll('.platform-instructions').forEach(el => el.style.display = 'none');
  document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
  document.getElementById(platform + '-instructions').style.display = 'block';
  event.target.classList.add('active');
}

function renderSummaryHtml(){
  const sec1 = buildSectionText(0, s1len, section1);
  const sec2 = buildSectionText(s1len, s1len + s2len, section2);
  
  return `
    <div class="celebration">
      <h2>You Did It!</h2>
      <p>Your AI Coworker is ready to meet you.</p>
    </div>

    <div class="email-section-top">
      <h3>ðŸ“§ Save Your Results</h3>
      <div class="warning">
        <strong>Important:</strong> We don't store any of your answers. Once you leave this page, your results are gone forever. Email yourself a copy now!
      </div>
      <div class="email-input-row">
        <input type="email" id="userEmail" placeholder="you@example.com"/>
        <button onclick="sendEmail()">Email My Results</button>
      </div>
      <div class="email-alt">
        <a onclick="downloadResults()">Or download as a file instead</a>
      </div>
    </div>

    <p>Copy each section below and paste it into your AI's settings:</p>

    <div class="platform-tabs">
      <button onclick="showInstructions('chatgpt')" class="tab-btn active">ChatGPT</button>
      <button onclick="showInstructions('claude')" class="tab-btn">Claude</button>
      <button onclick="showInstructions('gemini')" class="tab-btn">Gemini</button>
    </div>

    <div id="chatgpt-instructions" class="platform-instructions">
      <p>ChatGPT Setup:</p>
      <ul>
        <li>Go to <strong>Settings â†’ Personalization â†’ Customization</strong></li>
        <li><strong>Section 1</strong> â†’ Paste into "What traits should ChatGPT have?"</li>
        <li><strong>Section 2</strong> â†’ Paste into "What should ChatGPT know about you?"</li>
      </ul>
    </div>

    <div id="claude-instructions" class="platform-instructions" style="display:none;">
      <p>Claude Setup:</p>
      <ul>
        <li>Go to <strong>Settings â†’ Profile</strong></li>
        <li>Paste <strong>both sections</strong> into "What personal preferences should Claude consider?"</li>
      </ul>
    </div>

    <div id="gemini-instructions" class="platform-instructions" style="display:none;">
      <p>Gemini Setup:</p>
      <ul>
        <li>Go to <strong>Settings â†’ Saved Info</strong></li>
        <li>Paste <strong>both sections</strong> (you may need to split into multiple entries)</li>
      </ul>
    </div>

    <div class="result-section-header">
      <div class="section-number">1</div>
      <h3>Your AI Coworker</h3>
    </div>
    <div class="summary" id="sum1">${sec1}</div>
    <button class="copy-btn" onclick="copyToClipboard('sum1')">Copy Section 1</button>

    <div class="result-section-header">
      <div class="section-number">2</div>
      <h3>About You</h3>
    </div>
    <div class="summary" id="sum2">${sec2}</div>
    <button class="copy-btn" onclick="copyToClipboard('sum2')">Copy Section 2</button>

    <div class="next-steps">
      <h3>What's Next?</h3>
      
      <div class="next-step-item">
        <div class="next-step-icon">ðŸŽ¬</div>
        <div class="next-step-content">
          <h4>Watch the Video Series (Coming Soon)</h4>
          <p>I'm building a video walkthrough that explains the thinking behind every questionâ€”and shows you how to get 10x more value from your AI Coworker.</p>
        </div>
      </div>
      
      <div class="next-step-item">
        <div class="next-step-icon">ðŸ‘¥</div>
        <div class="next-step-content">
          <h4>Join an Upcoming Cohort</h4>
          <p>Learn alongside other leaders in a live workshop experience. Limited spots. <a href="https://nimbology.com/contact" target="_blank">Get on the waitlist â†’</a></p>
        </div>
      </div>
      
      <div class="next-step-item">
        <div class="next-step-icon">ðŸš€</div>
        <div class="next-step-content">
          <h4>1:1 Coaching</h4>
          <p>Want personalized guidance on AI strategy, leadership, or building your next chapter? <a href="https://nimbology.com/contact" target="_blank">Let's talk â†’</a></p>
        </div>
      </div>
    </div>`;
}

function copyToClipboard(id) {
  const text = document.getElementById(id).innerText;
  navigator.clipboard.writeText(text);
  showToast('Copied! Ready to paste.');
}

function showToast(msg){
  const t = document.getElementById("toast");
  t.innerText = msg;
  t.style.display = "block";
  setTimeout(()=> t.style.display="none", 3000);
}

function sendEmail(){
  const userEmail = document.getElementById("userEmail").value.trim();
  if(!userEmail) return showToast("Please enter your email.");
  
  const sec1 = buildSectionText(0, s1len, section1);
  const sec2 = buildSectionText(s1len, s1len + s2len, section2);
  
  // Build the comprehensive email content
  const emailBody = buildEmailContent(sec1, sec2);
  
  emailjs.send(EMAILJS_SERVICE_ID, EMAILJS_TEMPLATE_ID, {
    to_email: userEmail, 
    section1: sec1, 
    section2: sec2,
    full_content: emailBody
  })
  .then(response => {
    console.log("SUCCESS:", response);
    showToast("âœ“ Email sent! Check your inbox.");
  })
  .catch(err => {
    console.error("EMAIL ERROR:", err);
    showToast("Email failed. Try downloading instead.");
  });
}

function buildEmailContent(sec1, sec2) {
  return `
CONGRATULATIONS!

You just completed the AI Coworker Blueprintâ„¢â€”and your AI is about to get a whole lot smarter about YOU.

YOUR PRIVACY, PROTECTED

Here's something important: we didn't store a single answer you gave.

Not one.

This email is the only record of your Blueprint. We built it this way on purposeâ€”because in a world where everyone wants your data, we wanted to prove you can get real value without giving up your privacy.

Your information stays yours. Always.

WHAT TO DO WITH YOUR RESULTS

1. COPY SECTION 1 (Your AI Coworker) below
2. PASTE IT into your AI's settings:
   â€¢ ChatGPT: Settings â†’ Personalization â†’ "What traits should ChatGPT have?"
   â€¢ Claude: Settings â†’ Profile â†’ Personal Preferences
   â€¢ Gemini: Settings â†’ Saved Info

3. COPY SECTION 2 (About You) below
4. PASTE IT into:
   â€¢ ChatGPT: "What should ChatGPT know about you?"
   â€¢ Claude: Same Personal Preferences field
   â€¢ Gemini: Saved Info (may need multiple entries)

5. START A CONVERSATION and watch the difference.


SECTION 1: YOUR AI COWORKER

${sec1}

SECTION 2: ABOUT YOU

${sec2}

WANT TO GO DEEPER?

This Blueprint is just the beginning. Here's how to keep building:

â†’ VIDEO SERIES (Coming Soon)
I'm filming my Double Your Team in One Day workshop so that as many people as possible can learn how to onboard and optimize their AI coworkers. Learn how to get 25% or more of your week back and a 40% boost in work quality for every member of your team!

â†’ JOIN A COHORT
Learn alongside other leaders in a live workshop. Limited spots, real transformation.
https://nimbology.com/contact

â†’ 1:1 COACHING
Want personalized guidance on AI strategy, leadership, or building your next chapter? Let's talk.
https://nimbology.com/contact

Thanks for trusting me with this.

Now go put your AI Coworker to work.

â€” Liz B. Baker
Founder, Nimbology
https://nimbology.com

P.S. If someone you know could use an AI Coworker that actually gets them, send them my way. But please don't share the Blueprint link directly. Have them reach out at nimbology.com/contact so we can make sure they're set up for success.
`;
}

function downloadResults() {
  const sec1 = buildSectionText(0, s1len, section1);
  const sec2 = buildSectionText(s1len, s1len + s2len, section2);
  const content = buildEmailContent(sec1, sec2);
  
  const blob = new Blob([content], { type: "text/plain" });
  const url = URL.createObjectURL(blob);
  const a = document.createElement("a");
  a.href = url;
  a.download = "AI-Coworker-Blueprint-Results.txt";
  a.click();
  showToast("âœ“ Download started!");
}

renderPage();
</script>

<script>
function sendHeight() {
  const height = document.body.scrollHeight;
  parent.postMessage({ aiBlueprintHeight: height }, "*");
}
window.onload = sendHeight;
window.onresize = sendHeight;
document.addEventListener('input', sendHeight);
document.addEventListener('click', sendHeight);

// Also send height after a short delay to catch dynamic content
setInterval(sendHeight, 500);
</script>

<!--
SQUARESPACE PARENT PAGE CODE:
Add this to your Squarespace Code Injection (Settings â†’ Advanced â†’ Code Injection â†’ Footer):

<script>
window.addEventListener('message', function(e) {
  // Handle height adjustments
  if (e.data && e.data.aiBlueprintHeight) {
    var iframe = document.querySelector('iframe[src*="blueprint"]');
    if (iframe) {
      iframe.style.height = e.data.aiBlueprintHeight + 'px';
    }
  }
  
  // Handle scroll-to-top requests
  if (e.data && e.data.scrollToTop) {
    var iframe = document.querySelector('iframe[src*="blueprint"]');
    if (iframe) {
      iframe.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  }
});
</script>
-->
</body>
</html>
